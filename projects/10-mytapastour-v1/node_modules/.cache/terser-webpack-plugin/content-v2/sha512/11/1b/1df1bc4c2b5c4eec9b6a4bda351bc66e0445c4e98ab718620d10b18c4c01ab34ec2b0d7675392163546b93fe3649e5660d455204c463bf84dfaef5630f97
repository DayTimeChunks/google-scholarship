{"map":"{\"version\":3,\"sources\":[\"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/node_modules/url-loader/dist/cjs.js??ref--6-oneOf-0!/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/src/images/powered-by-foursquare-grey.png\",\"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/src/components/MapPromise.js\",\"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/src/utils/keys.js\",\"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/src/utils/FoursquareAPI.js\",\"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/src/components/SearchField.js\",\"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/src/components/TapasList.js\",\"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/src/App.js\",\"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/src/serviceWorker.js\",\"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/src/index.js\"],\"names\":[\"module\",\"exports\",\"__webpack_require__\",\"p\",\"markers\",\"secret\",\"id\",\"getSearch\",\"loc\",\"myHeaders\",\"Headers\",\"myInit\",\"method\",\"headers\",\"mode\",\"cache\",\"append\",\"fetch\",\"concat\",\"lat\",\"lng\",\"then\",\"res\",\"json\",\"catch\",\"err\",\"console\",\"log\",\"getPhotos\",\"idArr\",\"fetchArray\",\"map\",\"idPhoto\",\"Promise\",\"all\",\"respArr\",\"response\",\"getQuery\",\"query\",\"match\",\"RegExp\",\"escapeRegExp\",\"api\",\"SearchField\",\"props\",\"_this\",\"Object\",\"classCallCheck\",\"this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"updateQuery\",\"e\",\"setState\",\"target\",\"value\",\"onKeyPress\",\"key\",\"searchApi\",\"state\",\"FoursquareAPI\",\"location\",\"jsonRes\",\"update\",\"venues\",\"_this2\",\"react_default\",\"a\",\"createElement\",\"className\",\"type\",\"onChange\",\"event\",\"placeholder\",\"src\",\"require\",\"height\",\"alt\",\"Component\",\"TapasList\",\"getVenuePhoto\",\"tapa\",\"photos\",\"photo_res\",\"length\",\"prefix\",\"suffix\",\"getVenueIcon\",\"categories\",\"icon\",\"isRecommended\",\"tapas\",\"recommend\",\"referralId\",\"onClick\",\"handleSelection\",\"bind\",\"assertThisInitialized\",\"data-id\",\"venue\",\"name\",\"width\",\"address\",\"reasons\",\"items\",\"summary\",\"onCheckedId\",\"currentTarget\",\"dataset\",\"MapPromise\",\"populateInfoWindow\",\"marker\",\"infoWindow\",\"setAnimation\",\"google\",\"maps\",\"Animation\",\"BOUNCE\",\"setTimeout\",\"setIcon\",\"mIcon\",\"setContent\",\"title\",\"category\",\"open\",\"selections\",\"document\",\"getElementsByClassName\",\"Array\",\"prototype\",\"el\",\"classList\",\"remove\",\"getElementById\",\"add\",\"addListener\",\"handleInfoClose\",\"openMarker\",\"mapIsReady\",\"googleMapsPromise\",\"resolve\",\"window\",\"resolveGoogleMapsPromise\",\"script\",\"async\",\"body\",\"appendChild\",\"_this$props\",\"_this$state\",\"bounds\",\"LatLngBounds\",\"Marker\",\"position\",\"extend\",\"_this3\",\"getGoogleMaps\",\"Map\",\"zoom\",\"center\",\"mapTypeControl\",\"InfoWindow\",\"obj\",\"checkedId\",\"_this$state2\",\"close\",\"setMap\",\"addMapMarkers\",\"i\",\"style\",\"App\",\"addPhotos\",\"idArray\",\"temp_tapas\",\"JSON\",\"parse\",\"stringify\",\"jsonResolvedArr\",\"promise\",\"indx\",\"updateRecommendation\",\"updateResults\",\"foundTapas\",\"cleanTapas\",\"filter\",\"test\",\"pluralName\",\"shortName\",\"handleCheck\",\"infoClosed\",\"mapKey\",\"myJson\",\"groups\",\"Route\",\"exact\",\"path\",\"render\",\"components_SearchField\",\"components_TapasList\",\"components_MapPromise\",\"isLocalhost\",\"Boolean\",\"hostname\",\"registerValidSW\",\"swUrl\",\"config\",\"navigator\",\"serviceWorker\",\"register\",\"registration\",\"onupdatefound\",\"installingWorker\",\"installing\",\"onstatechange\",\"controller\",\"onUpdate\",\"onSuccess\",\"error\",\"ReactDOM\",\"BrowserRouter\",\"src_App_0\",\"URL\",\"process\",\"href\",\"origin\",\"addEventListener\",\"contentType\",\"get\",\"status\",\"indexOf\",\"ready\",\"unregister\",\"reload\",\"checkValidServiceWorker\"],\"mappings\":\"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\",\"sourcesContent\":[\"module.exports = __webpack_public_path__ + \\\"static/media/powered-by-foursquare-grey.cdd335d8.png\\\";\",\"/* global google */\\nimport React, { Component } from 'react';\\nimport PropTypes from \\\"prop-types\\\";\\n\\n// Global \\\"markers\\\" variable is not ideal, but alternative\\n// would be to re-mount the Google Maps Api after every new search\\n// by changing the component's key value.\\nlet markers;\\n\\n// Sources:\\n// https://stackoverflow.com/questions/48493960/using-google-map-in-react-component  (best)\\n// https://stackoverflow.com/questions/45429484/how-to-implement-google-maps-js-api-in-react-without-an-external-library\\n// https://jsbin.com/tejutihoka/edit?js,output\\n\\nclass MapPromise extends Component {\\n\\n  static propTypes = {\\n    recommend: PropTypes.bool,\\n    tapas: PropTypes.array,\\n    checkedId: PropTypes.string,\\n    handleInfoClose: PropTypes.func\\n  };\\n\\n  constructor(props){\\n    super(props);\\n    this.state = {\\n      mapIsReady: false,\\n      map: \\\"\\\",\\n      // markers: \\\"\\\", // Cannot setState in componentDidUpdate()\\n      infoWindow: \\\"\\\"\\n    };\\n  }\\n\\n  getGoogleMaps() {\\n    // If we haven't already defined the promise, define it\\n    if (!this.googleMapsPromise) {\\n      this.googleMapsPromise = new Promise((resolve) => {\\n        // Add a global handler for when the API finishes loading\\n        window.resolveGoogleMapsPromise = () => {\\n          // Resolve the promise\\n          resolve(google);\\n\\n          // Tidy up\\n          delete window.resolveGoogleMapsPromise;\\n        };\\n\\n        // Load the Google Maps API\\n        const script = document.createElement(\\\"script\\\");\\n        const API = 'AIzaSyCEhfBMzJxAaTKLtp8GjcVwEZobHckXXis';\\n        script.src = `https://maps.googleapis.com/maps/api/js?key=${API}&callback=resolveGoogleMapsPromise`;\\n        script.async = true;\\n        document.body.appendChild(script);\\n      });\\n    }\\n    // Return a promise for the Google Maps API\\n    return this.googleMapsPromise;\\n  }\\n\\n  // Method used on each marker upon creation or if list item is checked\\n  populateInfoWindow = (marker, infoWindow, map) => {\\n\\n    marker.setAnimation(google.maps.Animation.BOUNCE);\\n    setTimeout(() => {\\n      marker.setAnimation(null);\\n    }, 1000);\\n\\n    marker.setIcon(marker.mIcon);\\n\\n\\n    infoWindow.marker = marker;\\n    infoWindow.setContent(\\n      `<div class=\\\"text-center\\\"><p class=\\\"mb-1\\\">${marker.title}</p><small>${marker.category}</small></div>`);\\n    infoWindow.open(map, marker);\\n\\n    // Check that only one element on the venue list is highlighted\\n    let selections = document.getElementsByClassName(\\\"highlight\\\");\\n    if (selections && selections.length > 0) {\\n      Array.prototype.map.call(selections, el => el.classList.remove(\\\"highlight\\\") );\\n    }\\n    document.getElementById(marker.id).classList.add(\\\"highlight\\\");\\n\\n\\n    infoWindow.addListener('closeclick', ()=>{\\n      marker.setIcon(null);\\n      infoWindow.marker = null;\\n      this.props.handleInfoClose(marker.id);\\n      let openMarker = document.getElementById(marker.id);\\n      if (openMarker){ openMarker.classList.remove(\\\"highlight\\\"); }\\n\\n    });\\n\\n  };\\n\\n  addMapMarkers() {\\n    const {tapas, recommend} = this.props;\\n    const {map, infoWindow} = this.state;\\n\\n    let bounds = new google.maps.LatLngBounds();\\n\\n    // Function returns the markers array (to global scope?)\\n    return tapas.map(tapa => {\\n      let venue;\\n      if (recommend){\\n        venue = tapa.venue;\\n      } else {\\n        venue = tapa;\\n      }\\n\\n      let marker = new google.maps.Marker({\\n        map: map,\\n        position: {lat: venue.location.lat, lng: venue.location.lng},\\n        title: venue.name,\\n        // animation: google.maps.Animation.DROP,\\n        id: venue.id,\\n        category: venue.categories[0].name,\\n        mIcon: `${venue.categories[0].icon.prefix}bg_32${venue.categories[0].icon.suffix}`\\n\\n      });\\n      marker.addListener('click', () => {\\n        if (infoWindow.marker !== marker){\\n          this.populateInfoWindow(marker, infoWindow, map);\\n        }\\n      });\\n      bounds.extend(marker.position);\\n\\n      return marker;\\n    });\\n  }\\n\\n  componentWillMount() {\\n    // Start Google Maps API loading since we know we'll soon need it\\n    // this.getGoogleMaps();\\n  }\\n\\n  componentDidMount() {\\n    // Once the Google Maps API has finished loading, initialize the map\\n    // NOTE: Moved content to componentDidUpdate() because props was still empty at this point.\\n    this.getGoogleMaps().then((google) => {\\n      const center = {lat: 50.121870, lng: 8.689550};\\n      const map = new google.maps.Map(document.getElementById('map'), {\\n        zoom: 13,\\n        center: center,\\n        mapTypeControl: false\\n      });\\n\\n      let largeInfoWindow = new google.maps.InfoWindow();\\n\\n      return {map:map, window: largeInfoWindow};\\n\\n    }).then(obj => {\\n      this.setState({\\n        map: obj.map,\\n        infoWindow: obj.window\\n      })\\n    })\\n  }\\n\\n  componentDidUpdate(){\\n\\n    const {checkedId} = this.props;\\n    const {map, infoWindow} = this.state;\\n\\n    // Closes info window when list item gets clicked (on un-check)\\n    if (infoWindow.marker){\\n      infoWindow.close();\\n    }\\n\\n    if (markers){\\n      markers.map( marker => {\\n        marker.setMap(null)\\n      })\\n    }\\n\\n    markers = this.addMapMarkers();\\n\\n    // Populates marker when list item gets clicked (on-check)\\n    for (let i = 0; i < markers.length; i++){\\n      if (markers[i].id === checkedId){\\n        this.populateInfoWindow(markers[i], infoWindow, map);\\n      }\\n    }\\n  }\\n\\n  render() {\\n    return (\\n      <div style={{ height: '90vh', width: '100%' }} >\\n        <div id=\\\"map\\\" style={{ height: '100%', width: '100%' }}></div>\\n      </div>\\n    )\\n  }\\n}\\n\\nexport default MapPromise;\\n\\n// {/*<div id=\\\"map\\\" style={{width: 400, height: 300}}></div>*/}\",\"\\nexport const secret = \\\"XN3KVA302HH1TJ2P1OPH3WUWKGRXVKMX2NWNPQBTXOZSKPPC\\\";\\nexport const id = \\\"JX2GROLYRGSEKWBDR5X5MITPUUZAH3NEL5BLKYGTF5RBT5IA\\\";\\n\\n// export default {secret, id};\",\"\\nimport escapeRegExp from 'escape-string-regexp'\\nimport {secret, id} from './keys'\\n\\n// Useful documents:\\n// https://github.com/foursquare/react-foursquare\\n\\nconst apiUpToDate = \\\"20181204\\\"; // Date I built this app, tells FourSquare to use an api version compatible with this date\\nconst limitResponses = \\\"50\\\"; // Number of responses (I think maximum is 50)\\n\\nlet apiUrl = \\\"https://api.foursquare.com/v2\\\";\\nlet apiFeature = \\\"/venues\\\";\\n\\nexport const getBest = (loc) => {\\n  /*\\n  Uses the \\\"explore?\\\" Foursquare endpoint,\\n  which searches only for recommended places.\\n  Use the \\\"search?\\\" endpoint instead for a wider search.\\n\\n  To access the results array, the structure is:\\n  array:  myJson.response.groups[0].items\\n  * */\\n\\n  const api = \\\"https://api.foursquare.com/v2/venues/explore?\\\";\\n  const food = \\\"4d4b7105d754a06374d81259\\\";\\n\\n  let myHeaders = new Headers();\\n\\n  const myInit = {\\n    method: 'GET',\\n    headers: myHeaders,\\n    mode: 'cors',\\n    cache: 'default' };\\n\\n  myHeaders.append(\\\"Accept-Language\\\", \\\"en\\\");\\n\\n  return fetch(`${api}client_id=${id}&client_secret=${secret}&v=${apiUpToDate}&limit=${limitResponses}&intent=browse&ll=${loc.lat},${loc.lng}&categoryId=${food}`, myInit)\\n    .then((res) => res.json())\\n    .catch( (err) => {\\n      console.log(\\\"getBest error, \\\", err)\\n    });\\n};\\n\\nexport const getSearch = (loc) => {\\n\\n  /*\\n  * Returns a wider search than getBest()\\n  *\\n  * The response is accessed differently, with venues directly returned as array.\\n  *   array:  myJson.venues\\n  * */\\n\\n  const api = \\\"https://api.foursquare.com/v2/venues/search?\\\";\\n  const food = \\\"4d4b7105d754a06374d81259\\\";\\n\\n  let myHeaders = new Headers();\\n\\n  const myInit = {\\n    method: 'GET',\\n    headers: myHeaders,\\n    mode: 'cors',\\n    cache: 'default' };\\n\\n  myHeaders.append(\\\"Accept-Language\\\", \\\"en\\\");\\n\\n  return fetch(`${api}client_id=${id}&client_secret=${secret}&v=${apiUpToDate}&limit=${limitResponses}&intent=browse&ll=${loc.lat},${loc.lng}&radius=2000&categoryId=${food}`, myInit)\\n    .then((res) => res.json())\\n    .catch( (err) => {\\n      console.log(\\\"getSearch error, \\\", err)\\n    });\\n};\\n\\n\\n// Additional query, based on 1st result query,\\n// which obtained a set of venue IDs\\nexport const getPhotos = (idArr) => {\\n  // console.log(\\\"idArr \\\", idArr);\\n  // Construct an array of \\\"fetch\\\" requests\\n  let fetchArray = idArr.map( idPhoto =>\\n    (fetch(`${apiUrl}${apiFeature}/${idPhoto}/photos?client_id=${id}&client_secret=${secret}&v=${apiUpToDate}`)));\\n  // console.log(\\\"fetchArray: \\\", fetchArray);\\n\\n  // Fetch all, and wait for all to resolve,\\n  // then return an array of responses converted to json()\\n  return Promise.all(fetchArray)\\n    .then( respArr => {\\n      return respArr.map( response => response.json());\\n      // jsonResolvedArr: Array of resolved promises\\n  });\\n};\\n\\n// Main query method used, returns a list of venues with information\\nexport const getQuery = (query, loc) => {\\n  const match = new RegExp(escapeRegExp(query), 'i');\\n  const food = \\\"4d4b7105d754a06374d81259\\\";\\n  const api = `https://api.foursquare.com/v2/venues/search?client_id=${id}&client_secret=${secret}&v=${apiUpToDate}&limit=${limitResponses}&intent=browse&ll=${loc.lat},${loc.lng}&radius=10000&categoryId=${food}&query=${match}`;\\n\\n  let myHeaders = new Headers();\\n\\n  const myInit = {\\n    method: 'GET',\\n    headers: myHeaders,\\n    mode: 'cors',\\n    cache: 'default' };\\n\\n  myHeaders.append(\\\"Accept-Language\\\", \\\"en\\\");\\n\\n  return fetch(api, myInit)\\n    .then((res) => res.json())\\n    .catch((err) => {\\n      console.log(\\\"Error on getQuery: \\\", err)\\n    });\\n};\\n\\n// Not used, only for exploring the API.\\n// Returns valid Venue categories to be used as filters in the app.\\nexport const getCategories = (loc) => {\\n  const api = \\\"https://api.foursquare.com/v2/venues/categories?\\\";\\n\\n  let myHeaders = new Headers();\\n\\n  const myInit = {\\n    method: 'GET',\\n    headers: myHeaders,\\n    mode: 'cors',\\n    cache: 'default' };\\n\\n  myHeaders.append(\\\"Accept-Language\\\", \\\"en\\\");\\n\\n  return fetch(`${api}client_id=${id}&client_secret=${secret}&v=${apiUpToDate}&limit=${limitResponses}&intent=browse&ll=${loc.lat},${loc.lng}&radius=10000`, myInit)\\n    .then((res) => res.json())\\n    .catch( (err) => {\\n      console.log(\\\"getSearch error, \\\", err)\\n    });\\n}\\n\\n\\n\",\"import React, { Component } from 'react'\\nimport PropTypes from 'prop-types'\\nimport * as FoursquareAPI from '../utils/FoursquareAPI'\\n\\n\\nclass SearchField extends Component {\\n\\n  static propTypes = {\\n    tapas: PropTypes.array,\\n    location: PropTypes.object.isRequired,\\n    update: PropTypes.func.isRequired\\n  };\\n\\n  constructor(props) {\\n    super(props);\\n    this.state = {\\n      query: \\\"\\\"\\n    };\\n  }\\n\\n  updateQuery = (e) => {\\n    this.setState({\\n        query: e.target.value}\\n    );\\n  };\\n\\n  onKeyPress = (e) => {\\n    if (e.key === 'Enter') {\\n      this.searchApi();\\n      // if (this.state.query){ // not empty\\n      //   this.searchApi();\\n      // }\\n    }\\n  };\\n\\n  // Search API with a specific query/filter\\n  // update() is called in App.js, to update TapasList component\\n  searchApi = () => {\\n    if (this.state.query){\\n      FoursquareAPI.getQuery(this.state.query, this.props.location)\\n        .then(jsonRes => {\\n          this.props.update(jsonRes.response.venues, this.state.query);\\n          }\\n        )\\n    } else {\\n      FoursquareAPI.getSearch(this.props.location)\\n        .then(jsonRes => {\\n          this.props.update(jsonRes.response.venues, this.state.query)\\n        })\\n    }\\n\\n  };\\n\\n  render() {\\n    return (<div className=\\\"search-menu\\\">\\n      <div className=\\\"search-book-bar\\\">\\n        <div className=\\\"form-group\\\">\\n          <input className=\\\"form-control\\\"\\n                 type=\\\"search\\\"\\n                 value={this.state.query}\\n                 onKeyPress={this.onKeyPress}\\n                 onChange={(event) => this.updateQuery(event)}\\n                 placeholder=\\\"Search by venue name...\\\"/>\\n        </div>\\n        <img className=\\\"float-right\\\" src={require(\\\"../images/powered-by-foursquare-grey.png\\\")} height=\\\"10\\\" alt=\\\"\\\"/>\\n      </div>\\n      {/*<FilterChanger/>*/}\\n\\n    </div> )\\n  }\\n}\\n\\nexport default SearchField;\\n\\n// Notes:\\n// Resources to develop the throttle functionality:\\n// https://www.peterbe.com/plog/how-to-throttle-and-debounce-an-autocomplete-input-in-react\",\"import React, {Component} from 'react'\\nimport PropTypes from 'prop-types'\\n\\n\\n\\nclass TapasList extends Component {\\n\\n  static propTypes = {\\n    recommend: PropTypes.bool.isRequired,\\n    tapas: PropTypes.array.isRequired,\\n    onCheckedId: PropTypes.func\\n    // photos_ids: PropTypes.array.isRequired,\\n    // photos: PropTypes.array\\n  };\\n\\n  getVenuePhoto = (tapa) => {\\n\\n    if (tapa.photos && tapa.photos.photo_res.length > 0) {\\n      let prefix = tapa.photos.photo_res[0].prefix;\\n      let suffix  = tapa.photos.photo_res[0].suffix;\\n      return `${prefix}300x300${suffix}`;\\n    } else {\\n      return `https://via.placeholder.com/300`;\\n    }\\n  };\\n\\n  getVenueIcon = (tapa) => {\\n    // Known sizes: 32, 45, 60, 90, 120\\n    if (tapa.categories[0].icon) {\\n      let prefix = tapa.categories[0].icon.prefix;\\n      let suffix  = tapa.categories[0].icon.suffix;\\n      return `${prefix}bg_120${suffix}`;\\n    } else {\\n      return `https://via.placeholder.com/300`;\\n    }\\n  };\\n\\n\\n  handleSelection(e){\\n    this.props.onCheckedId(e.currentTarget.dataset.id);\\n  }\\n\\n  isRecommended = (tapas) => {\\n    if (tapas && tapas.length === 0){\\n      return (<li key={0} className='card text-center'>\\n          <div className=\\\"card-body\\\">\\n            <h5 className=\\\"card-title pt-3\\\">Sorry no results for your search!</h5>\\n            <p className=\\\"font-weight-normal\\\">...maybe try something else?</p>\\n          </div>\\n      </li>)\\n    }\\n\\n    if (this.props.recommend){\\n      return (tapas && tapas.length > 0 && (tapas.map( tapa => (\\n        <li key={tapa.referralId} className='card' onClick={this.handleSelection.bind(this)} data-id={tapa.venue.id}>\\n          <div className='card-body' id={tapa.venue.id}>\\n            <img className=\\\"photo rounded float-left img-fluid\\\"\\n                 src={this.getVenuePhoto(tapa)} alt={`${tapa.venue.name}`} width=\\\"300\\\" height=\\\"300\\\"/>\\n            <div className=\\\"card-body\\\">\\n              <h5 className=\\\"card-title mb-1\\\">{tapa.venue.name}</h5>\\n              <p className=\\\"font-weight-normal mb-0\\\">Address: {tapa.venue.location.address}</p>\\n              <p className=\\\"font-weight-light mb-0\\\">Category: {tapa.venue.categories[0].name}</p>\\n              <p className=\\\"font-weight-light font-italic mb-0\\\"> {tapa.reasons.items[0].summary}</p>\\n            </div>\\n          </div>\\n        </li>\\n      ))))\\n    } else {\\n      return (tapas && tapas.length > 0 && (tapas.map( venue => (\\n        <li key={venue.id} className='card' onClick={this.handleSelection.bind(this)} data-id={venue.id}>\\n          <div className='card-body' id={venue.id}>\\n            <img className=\\\"photo rounded float-left img-fluid\\\"\\n                 src={this.getVenueIcon(venue)} alt={`Icon of ${venue.name}`} width=\\\"300\\\" height=\\\"300\\\"/>\\n            <div className=\\\"card-body\\\">\\n              <h5 className=\\\"card-title mb-1\\\">{venue.name}</h5>\\n              <p className=\\\"font-weight-normal mb-0\\\">Address: {venue.location.address}</p>\\n              <p className=\\\"font-weight-light mb-0\\\">Category: {venue.categories[0].name}</p>\\n            </div>\\n          </div>\\n        </li>\\n      ))))\\n    }\\n  };\\n\\n  render() {\\n\\n    const {tapas} = this.props;\\n\\n    return (\\n      <div className=\\\"\\\">\\n        <div className=\\\"list-container\\\">\\n        <ul className=\\\"list-group\\\">\\n          { this.isRecommended(tapas)\\n        }\\n        </ul>\\n        </div>\\n      </div>\\n    )\\n  }\\n}\\n// `https://via.placeholder.com/300`\\n// 0: {id: \\\"56a91ce238fae81cf0c4b47e\\\", createdAt: 1453923554, source: {…}, prefix: \\\"https://fastly.4sqi.net/img/general/\\\", suffix: \\\"/67930521_I6ZtnHrfX_kWjvUDTd1Zh67o1fBBjZvk0Whvh_pZA4E.jpg\\\", …}\\nexport default TapasList;\\n\\n\\n\",\"import React, { Component } from 'react';\\nimport { Route } from 'react-router-dom'\\nimport './App.css';\\nimport SearchField from './components/SearchField'\\nimport TapasList from './components/TapasList'\\nimport * as FoursquareAPI from './utils/FoursquareAPI'\\n\\nimport MapPromise from \\\"./components/MapPromise\\\";\\nimport escapeRegExp from \\\"escape-string-regexp\\\";\\n\\nclass App extends Component {\\n\\n  constructor(props) {\\n    super(props);\\n    this.state = {\\n      query: \\\"\\\",\\n      tapas: [],\\n      location: {\\n        lat: 50.121870,\\n        lng: 8.689550\\n      },\\n      checkedId: \\\"\\\",\\n      recommend: false, // false: Reduce number of API requests\\n      mapKey: 0\\n    }\\n  }\\n\\n  componentWillMount(){\\n    // Logging purposes only:\\n    // FoursquareAPI.getCategories(this.state.location)\\n    //   .then(myJson => {\\n    //     console.log(\\\"Json.response: \\\", myJson.response );\\n    //     console.log(JSON.stringify(myJson.response))\\n    //   })\\n  }\\n\\n  // Lifecycle event, fetches restaurants from FourSquare API\\n  componentDidMount(){\\n\\n    if (this.state.recommend){\\n      // Narrow search, recommended venues only\\n      FoursquareAPI.getBest(this.state.location)\\n        .then( myJson => {\\n          this.setState({tapas: myJson.response.groups[0].items},\\n            () => {this.addPhotos()});\\n        }).catch( err => { console.log(err)} )\\n    } else {\\n      // Broad search\\n      FoursquareAPI.getSearch(this.state.location)\\n        .then( myJson => {\\n          this.setState({tapas: myJson.response.venues});\\n        }).catch( err => { console.log(err)} )\\n    }\\n  }\\n\\n  // Method used in older versions. Currently disabled due to\\n  // limited number of Foursquare API requests allowed\\n  addPhotos = () => {\\n    let idArray;\\n    // Clone tapas (deep copy)\\n    let temp_tapas = JSON.parse(JSON.stringify(this.state.tapas));\\n    // let temp_tapas = [...this.state.tapas]; // TODO: Check if spread operator worked\\n\\n    // If '/explore?' responses loaded, request API again with venue's id for photos\\n    // Not most efficient, but the explore-API returns no images on first request.\\n    if (this.state.tapas){\\n\\n      idArray  = this.state.tapas.map( tapa => {\\n        let venue;\\n        if (this.state.recommend){\\n          venue = tapa.venue;\\n        } else {\\n          venue = tapa;\\n        }\\n        return venue.id;\\n      } );\\n\\n      FoursquareAPI.getPhotos(idArray)\\n        .then( jsonResolvedArr => {\\n          // Create array of resolved promises' responses array\\n          jsonResolvedArr.map( (promise, indx) => (\\n            promise.then( res => {\\n              // Add photos to new venues objects\\n              temp_tapas[indx].photos = {id: idArray[indx], photo_res: res.response.photos.items}\\n            })));\\n        }) // Refresh state only after all photo addresses have been loaded\\n        .then( () => {\\n          this.setState({tapas: temp_tapas})\\n        })\\n    }\\n  };\\n\\n  updateRecommendation = () => {\\n    if (this.state.recommend){\\n      this.setState({recommend: false})\\n    } else {\\n      this.setState({recommend: true})\\n    }\\n  };\\n\\n  // Method called on SearchFields.js in searchApi()\\n  updateResults = (foundTapas, query) => {\\n\\n    // Clean the results, checking for:\\n    // 1. Address is not empty\\n    // 2. Query is in name or in categories\\n    let cleanTapas = foundTapas.filter( tapa => {\\n      if (tapa.location.address) {\\n        const match = new RegExp(escapeRegExp(query), 'i');\\n\\n        if (match.test(tapa.name)\\n          || match.test(tapa.categories[0].name)\\n          || match.test(tapa.categories[0].pluralName)\\n          || match.test(tapa.categories[0].shortName)) {\\n          return tapa;\\n        }\\n      }\\n    });\\n\\n    this.setState({\\n      tapas: cleanTapas,\\n      // mapKey: this.state.mapKey + 1 // Forces MapPromise component to re-mount, deleting the old markers on map\\n    },\\n      // () => {this.addPhotos()} // Disabled to reduce API requests\\n    )\\n  };\\n\\n  handleCheck = (id) => {\\n    // Clean all previous list selection (if any)\\n    let selections = document.getElementsByClassName(\\\"highlight\\\");\\n    if (selections && selections.length > 0) {\\n      Array.prototype.map.call(selections, el => el.classList.remove(\\\"highlight\\\") );\\n    }\\n    if (this.state.checkedId !== id){\\n      document.getElementById(id).classList.add(\\\"highlight\\\");\\n    } else {\\n      id = \\\"\\\"\\n    }\\n\\n    this.setState({\\n      checkedId: id\\n      }\\n    );\\n  };\\n\\n  infoClosed = (id) => {\\n    if (id === this.state.checkedId){\\n      if (document.getElementById(this.state.checkedId)){\\n        document.getElementById(this.state.checkedId).classList.remove(\\\"highlight\\\");\\n      }\\n      this.setState({ checkedId: \\\"\\\"})\\n    }\\n  };\\n\\n  render() {\\n\\n    return (\\n      <div>\\n        <Route exact path=\\\"/\\\" render={ () => (\\n          <div className=\\\"row\\\">\\n            <div className=\\\"col-12 col-md-6\\\">\\n\\n              <SearchField\\n                tapas={this.state.tapas}\\n                location={this.state.location}\\n                update={this.updateResults}/>\\n\\n              <TapasList\\n                recommend={this.state.recommend}\\n                tapas={this.state.tapas}\\n                onCheckedId={this.handleCheck}\\n              />\\n            </div>\\n\\n            <div className=\\\"map-container col-12 col-md-6\\\">\\n              <MapPromise\\n                key={this.state.mapKey}\\n                recommend={this.state.recommend}\\n                tapas={this.state.tapas}\\n                checkedId={this.state.checkedId}\\n                handleInfoClose={this.infoClosed}\\n              />\\n            </div>\\n          </div>\\n        )}\\n        />\\n        {/*<Route path=\\\"/favourites\\\" render={({history}) => (*/}\\n          {/*<Favourites/>*/}\\n        {/*)}/>*/}\\n\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default App;\\n\\n\\n/*\\n* <header className=\\\"App-header\\\">\\n          <img src={logo} className=\\\"App-logo\\\" alt=\\\"logo\\\" />\\n          <p>\\n            Edit <code>src/App.js</code> and save to reload.\\n          </p>\\n          <a\\n            className=\\\"App-link\\\"\\n            href=\\\"https://reactjs.org\\\"\\n            target=\\\"_blank\\\"\\n            rel=\\\"noopener noreferrer\\\"\\n          >\\n            Learn React\\n          </a>\\n        </header>\\n* */\",\"// This optional code is used to register a service worker.\\n// register() is not called by default.\\n\\n// This lets the app load faster on subsequent visits in production, and gives\\n// it offline capabilities. However, it also means that developers (and users)\\n// will only see deployed updates on subsequent visits to a page, after all the\\n// existing tabs open on the page have been closed, since previously cached\\n// resources are updated in the background.\\n\\n// To learn more about the benefits of this model and instructions on how to\\n// opt-in, read http://bit.ly/CRA-PWA\\n\\nconst isLocalhost = Boolean(\\n  window.location.hostname === 'localhost' ||\\n    // [::1] is the IPv6 localhost address.\\n    window.location.hostname === '[::1]' ||\\n    // 127.0.0.1/8 is considered localhost for IPv4.\\n    window.location.hostname.match(\\n      /^127(?:\\\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\\n    )\\n);\\n\\nexport function register(config) {\\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\\n    // The URL constructor is available in all browsers that support SW.\\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\\n    if (publicUrl.origin !== window.location.origin) {\\n      // Our service worker won't work if PUBLIC_URL is on a different origin\\n      // from what our page is served on. This might happen if a CDN is used to\\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\\n      return;\\n    }\\n\\n    window.addEventListener('load', () => {\\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\\n\\n      if (isLocalhost) {\\n        // This is running on localhost. Let's check if a service worker still exists or not.\\n        checkValidServiceWorker(swUrl, config);\\n\\n        // Add some additional logging to localhost, pointing developers to the\\n        // service worker/PWA documentation.\\n        navigator.serviceWorker.ready.then(() => {\\n          console.log(\\n            'This web app is being served cache-first by a service ' +\\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\\n          );\\n        });\\n      } else {\\n        // Is not localhost. Just register service worker\\n        registerValidSW(swUrl, config);\\n      }\\n    });\\n  }\\n}\\n\\nfunction registerValidSW(swUrl, config) {\\n  navigator.serviceWorker\\n    .register(swUrl)\\n    .then(registration => {\\n      registration.onupdatefound = () => {\\n        const installingWorker = registration.installing;\\n        if (installingWorker == null) {\\n          return;\\n        }\\n        installingWorker.onstatechange = () => {\\n          if (installingWorker.state === 'installed') {\\n            if (navigator.serviceWorker.controller) {\\n              // At this point, the updated precached content has been fetched,\\n              // but the previous service worker will still serve the older\\n              // content until all client tabs are closed.\\n              console.log(\\n                'New content is available and will be used when all ' +\\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\\n              );\\n\\n              // Execute callback\\n              if (config && config.onUpdate) {\\n                config.onUpdate(registration);\\n              }\\n            } else {\\n              // At this point, everything has been precached.\\n              // It's the perfect time to display a\\n              // \\\"Content is cached for offline use.\\\" message.\\n              console.log('Content is cached for offline use.');\\n\\n              // Execute callback\\n              if (config && config.onSuccess) {\\n                config.onSuccess(registration);\\n              }\\n            }\\n          }\\n        };\\n      };\\n    })\\n    .catch(error => {\\n      console.error('Error during service worker registration:', error);\\n    });\\n}\\n\\nfunction checkValidServiceWorker(swUrl, config) {\\n  // Check if the service worker can be found. If it can't reload the page.\\n  fetch(swUrl)\\n    .then(response => {\\n      // Ensure service worker exists, and that we really are getting a JS file.\\n      const contentType = response.headers.get('content-type');\\n      if (\\n        response.status === 404 ||\\n        (contentType != null && contentType.indexOf('javascript') === -1)\\n      ) {\\n        // No service worker found. Probably a different app. Reload the page.\\n        navigator.serviceWorker.ready.then(registration => {\\n          registration.unregister().then(() => {\\n            window.location.reload();\\n          });\\n        });\\n      } else {\\n        // Service worker found. Proceed as normal.\\n        registerValidSW(swUrl, config);\\n      }\\n    })\\n    .catch(() => {\\n      console.log(\\n        'No internet connection found. App is running in offline mode.'\\n      );\\n    });\\n}\\n\\nexport function unregister() {\\n  if ('serviceWorker' in navigator) {\\n    navigator.serviceWorker.ready.then(registration => {\\n      registration.unregister();\\n    });\\n  }\\n}\\n\",\"import './index.css';\\nimport 'bootstrap/dist/css/bootstrap.min.css'; // replaced: import './bootstrap-4.1.3-dist/js/bootstrap.js/bootsrap.min.js'\\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\\nimport React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport { BrowserRouter } from 'react-router-dom'\\n\\nimport App from './App';\\nimport * as serviceWorker from './serviceWorker';\\n\\nReactDOM.render(\\n  <BrowserRouter>\\n    <App />\\n  </BrowserRouter>,\\n  document.getElementById('root'));\\n\\n// If you want your app to work offline and load faster, you can change\\n// unregister() to register() below. Note this comes with some pitfalls.\\n// Learn more about service workers: http://bit.ly/CRA-PWA\\n// serviceWorker.unregister();\\nserviceWorker.register();\\n\\n\\n// Project rubric\\n// https://review.udacity.com/#!/rubrics/1351/view\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(34)},18:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){e.exports=n.p+\"static/media/powered-by-foursquare-grey.cdd335d8.png\"},34:function(e,t,n){\"use strict\";n.r(t);n(18),n(20),n(22);var a,o=n(0),c=n.n(o),r=n(14),s=n.n(r),i=n(35),l=n(4),d=n(5),u=n(8),m=n(6),h=n(9),p=n(36),f=(n(28),n(11)),g=n.n(f),v=\"XN3KVA302HH1TJ2P1OPH3WUWKGRXVKMX2NWNPQBTXOZSKPPC\",y=\"JX2GROLYRGSEKWBDR5X5MITPUUZAH3NEL5BLKYGTF5RBT5IA\",w=function(e){var t=new Headers,n={method:\"GET\",headers:t,mode:\"cors\",cache:\"default\"};return t.append(\"Accept-Language\",\"en\"),fetch(\"\".concat(\"https://api.foursquare.com/v2/venues/search?\",\"client_id=\").concat(y,\"&client_secret=\").concat(v,\"&v=\").concat(\"20181204\",\"&limit=\").concat(\"50\",\"&intent=browse&ll=\").concat(e.lat,\",\").concat(e.lng,\"&radius=2000&categoryId=\").concat(\"4d4b7105d754a06374d81259\"),n).then(function(e){return e.json()}).catch(function(e){console.log(\"getSearch error, \",e)})},b=function(e){var t=e.map(function(e){return fetch(\"\".concat(\"https://api.foursquare.com/v2\").concat(\"/venues\",\"/\").concat(e,\"/photos?client_id=\").concat(y,\"&client_secret=\").concat(v,\"&v=\").concat(\"20181204\"))});return Promise.all(t).then(function(e){return e.map(function(e){return e.json()})})},E=function(e,t){var n=new RegExp(g()(e),\"i\"),a=\"https://api.foursquare.com/v2/venues/search?client_id=\".concat(y,\"&client_secret=\").concat(v,\"&v=\").concat(\"20181204\",\"&limit=\").concat(\"50\",\"&intent=browse&ll=\").concat(t.lat,\",\").concat(t.lng,\"&radius=10000&categoryId=\").concat(\"4d4b7105d754a06374d81259\",\"&query=\").concat(n),o=new Headers,c={method:\"GET\",headers:o,mode:\"cors\",cache:\"default\"};return o.append(\"Accept-Language\",\"en\"),fetch(a,c).then(function(e){return e.json()}).catch(function(e){console.log(\"Error on getQuery: \",e)})},k=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).updateQuery=function(e){n.setState({query:e.target.value})},n.onKeyPress=function(e){\"Enter\"===e.key&&n.searchApi()},n.searchApi=function(){n.state.query?E(n.state.query,n.props.location).then(function(e){n.props.update(e.response.venues,n.state.query)}):w(n.props.location).then(function(e){n.props.update(e.response.venues,n.state.query)})},n.state={query:\"\"},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:\"render\",value:function(){var e=this;return c.a.createElement(\"div\",{className:\"search-menu\"},c.a.createElement(\"div\",{className:\"search-book-bar\"},c.a.createElement(\"div\",{className:\"form-group\"},c.a.createElement(\"input\",{className:\"form-control\",type:\"search\",value:this.state.query,onKeyPress:this.onKeyPress,onChange:function(t){return e.updateQuery(t)},placeholder:\"Search by venue name...\"})),c.a.createElement(\"img\",{className:\"float-right\",src:n(30),height:\"10\",alt:\"\"})))}}]),t}(o.Component),N=n(10),I=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).getVenuePhoto=function(e){if(e.photos&&e.photos.photo_res.length>0){var t=e.photos.photo_res[0].prefix,n=e.photos.photo_res[0].suffix;return\"\".concat(t,\"300x300\").concat(n)}return\"https://via.placeholder.com/300\"},n.getVenueIcon=function(e){if(e.categories[0].icon){var t=e.categories[0].icon.prefix,n=e.categories[0].icon.suffix;return\"\".concat(t,\"bg_120\").concat(n)}return\"https://via.placeholder.com/300\"},n.isRecommended=function(e){return e&&0===e.length?c.a.createElement(\"li\",{key:0,className:\"card text-center\"},c.a.createElement(\"div\",{className:\"card-body\"},c.a.createElement(\"h5\",{className:\"card-title pt-3\"},\"Sorry no results for your search!\"),c.a.createElement(\"p\",{className:\"font-weight-normal\"},\"...maybe try something else?\"))):n.props.recommend?e&&e.length>0&&e.map(function(e){return c.a.createElement(\"li\",{key:e.referralId,className:\"card\",onClick:n.handleSelection.bind(Object(N.a)(Object(N.a)(n))),\"data-id\":e.venue.id},c.a.createElement(\"div\",{className:\"card-body\",id:e.venue.id},c.a.createElement(\"img\",{className:\"photo rounded float-left img-fluid\",src:n.getVenuePhoto(e),alt:\"\".concat(e.venue.name),width:\"300\",height:\"300\"}),c.a.createElement(\"div\",{className:\"card-body\"},c.a.createElement(\"h5\",{className:\"card-title mb-1\"},e.venue.name),c.a.createElement(\"p\",{className:\"font-weight-normal mb-0\"},\"Address: \",e.venue.location.address),c.a.createElement(\"p\",{className:\"font-weight-light mb-0\"},\"Category: \",e.venue.categories[0].name),c.a.createElement(\"p\",{className:\"font-weight-light font-italic mb-0\"},\" \",e.reasons.items[0].summary))))}):e&&e.length>0&&e.map(function(e){return c.a.createElement(\"li\",{key:e.id,className:\"card\",onClick:n.handleSelection.bind(Object(N.a)(Object(N.a)(n))),\"data-id\":e.id},c.a.createElement(\"div\",{className:\"card-body\",id:e.id},c.a.createElement(\"img\",{className:\"photo rounded float-left img-fluid\",src:n.getVenueIcon(e),alt:\"Icon of \".concat(e.name),width:\"300\",height:\"300\"}),c.a.createElement(\"div\",{className:\"card-body\"},c.a.createElement(\"h5\",{className:\"card-title mb-1\"},e.name),c.a.createElement(\"p\",{className:\"font-weight-normal mb-0\"},\"Address: \",e.location.address),c.a.createElement(\"p\",{className:\"font-weight-light mb-0\"},\"Category: \",e.categories[0].name))))})},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:\"handleSelection\",value:function(e){this.props.onCheckedId(e.currentTarget.dataset.id)}},{key:\"render\",value:function(){var e=this.props.tapas;return c.a.createElement(\"div\",{className:\"\"},c.a.createElement(\"div\",{className:\"list-container\"},c.a.createElement(\"ul\",{className:\"list-group\"},this.isRecommended(e))))}}]),t}(o.Component),j=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).populateInfoWindow=function(e,t,a){e.setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){e.setAnimation(null)},1e3),e.setIcon(e.mIcon),t.marker=e,t.setContent('<div class=\"text-center\"><p class=\"mb-1\">'.concat(e.title,\"</p><small>\").concat(e.category,\"</small></div>\")),t.open(a,e);var o=document.getElementsByClassName(\"highlight\");o&&o.length>0&&Array.prototype.map.call(o,function(e){return e.classList.remove(\"highlight\")}),document.getElementById(e.id).classList.add(\"highlight\"),t.addListener(\"closeclick\",function(){e.setIcon(null),t.marker=null,n.props.handleInfoClose(e.id);var a=document.getElementById(e.id);a&&a.classList.remove(\"highlight\")})},n.state={mapIsReady:!1,map:\"\",infoWindow:\"\"},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:\"getGoogleMaps\",value:function(){return this.googleMapsPromise||(this.googleMapsPromise=new Promise(function(e){window.resolveGoogleMapsPromise=function(){e(google),delete window.resolveGoogleMapsPromise};var t=document.createElement(\"script\");t.src=\"https://maps.googleapis.com/maps/api/js?key=\".concat(\"AIzaSyCEhfBMzJxAaTKLtp8GjcVwEZobHckXXis\",\"&callback=resolveGoogleMapsPromise\"),t.async=!0,document.body.appendChild(t)})),this.googleMapsPromise}},{key:\"addMapMarkers\",value:function(){var e=this,t=this.props,n=t.tapas,a=t.recommend,o=this.state,c=o.map,r=o.infoWindow,s=new google.maps.LatLngBounds;return n.map(function(t){var n;n=a?t.venue:t;var o=new google.maps.Marker({map:c,position:{lat:n.location.lat,lng:n.location.lng},title:n.name,id:n.id,category:n.categories[0].name,mIcon:\"\".concat(n.categories[0].icon.prefix,\"bg_32\").concat(n.categories[0].icon.suffix)});return o.addListener(\"click\",function(){r.marker!==o&&e.populateInfoWindow(o,r,c)}),s.extend(o.position),o})}},{key:\"componentWillMount\",value:function(){}},{key:\"componentDidMount\",value:function(){var e=this;this.getGoogleMaps().then(function(e){return{map:new e.maps.Map(document.getElementById(\"map\"),{zoom:13,center:{lat:50.12187,lng:8.68955},mapTypeControl:!1}),window:new e.maps.InfoWindow}}).then(function(t){e.setState({map:t.map,infoWindow:t.window})})}},{key:\"componentDidUpdate\",value:function(){var e=this.props.checkedId,t=this.state,n=t.map,o=t.infoWindow;o.marker&&o.close(),a&&a.map(function(e){e.setMap(null)}),a=this.addMapMarkers();for(var c=0;c<a.length;c++)a[c].id===e&&this.populateInfoWindow(a[c],o,n)}},{key:\"render\",value:function(){return c.a.createElement(\"div\",{style:{height:\"90vh\",width:\"100%\"}},c.a.createElement(\"div\",{id:\"map\",style:{height:\"100%\",width:\"100%\"}}))}}]),t}(o.Component),O=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).addPhotos=function(){var e,t=JSON.parse(JSON.stringify(n.state.tapas));n.state.tapas&&(e=n.state.tapas.map(function(e){return(n.state.recommend?e.venue:e).id}),b(e).then(function(n){n.map(function(n,a){return n.then(function(n){t[a].photos={id:e[a],photo_res:n.response.photos.items}})})}).then(function(){n.setState({tapas:t})}))},n.updateRecommendation=function(){n.state.recommend?n.setState({recommend:!1}):n.setState({recommend:!0})},n.updateResults=function(e,t){var a=e.filter(function(e){if(e.location.address){var n=new RegExp(g()(t),\"i\");if(n.test(e.name)||n.test(e.categories[0].name)||n.test(e.categories[0].pluralName)||n.test(e.categories[0].shortName))return e}});n.setState({tapas:a})},n.handleCheck=function(e){var t=document.getElementsByClassName(\"highlight\");t&&t.length>0&&Array.prototype.map.call(t,function(e){return e.classList.remove(\"highlight\")}),n.state.checkedId!==e?document.getElementById(e).classList.add(\"highlight\"):e=\"\",n.setState({checkedId:e})},n.infoClosed=function(e){e===n.state.checkedId&&(document.getElementById(n.state.checkedId)&&document.getElementById(n.state.checkedId).classList.remove(\"highlight\"),n.setState({checkedId:\"\"}))},n.state={query:\"\",tapas:[],location:{lat:50.12187,lng:8.68955},checkedId:\"\",recommend:!1,mapKey:0},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:\"componentWillMount\",value:function(){}},{key:\"componentDidMount\",value:function(){var e=this;this.state.recommend?function(e){var t=new Headers,n={method:\"GET\",headers:t,mode:\"cors\",cache:\"default\"};return t.append(\"Accept-Language\",\"en\"),fetch(\"\".concat(\"https://api.foursquare.com/v2/venues/explore?\",\"client_id=\").concat(y,\"&client_secret=\").concat(v,\"&v=\").concat(\"20181204\",\"&limit=\").concat(\"50\",\"&intent=browse&ll=\").concat(e.lat,\",\").concat(e.lng,\"&categoryId=\").concat(\"4d4b7105d754a06374d81259\"),n).then(function(e){return e.json()}).catch(function(e){console.log(\"getBest error, \",e)})}(this.state.location).then(function(t){e.setState({tapas:t.response.groups[0].items},function(){e.addPhotos()})}).catch(function(e){console.log(e)}):w(this.state.location).then(function(t){e.setState({tapas:t.response.venues})}).catch(function(e){console.log(e)})}},{key:\"render\",value:function(){var e=this;return c.a.createElement(\"div\",null,c.a.createElement(p.a,{exact:!0,path:\"/\",render:function(){return c.a.createElement(\"div\",{className:\"row\"},c.a.createElement(\"div\",{className:\"col-12 col-md-6\"},c.a.createElement(k,{tapas:e.state.tapas,location:e.state.location,update:e.updateResults}),c.a.createElement(I,{recommend:e.state.recommend,tapas:e.state.tapas,onCheckedId:e.handleCheck})),c.a.createElement(\"div\",{className:\"map-container col-12 col-md-6\"},c.a.createElement(j,{key:e.state.mapKey,recommend:e.state.recommend,tapas:e.state.tapas,checkedId:e.state.checkedId,handleInfoClose:e.infoClosed})))}}))}}]),t}(o.Component),C=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){\"installed\"===n.state&&(navigator.serviceWorker.controller?(console.log(\"New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA.\"),t&&t.onUpdate&&t.onUpdate(e)):(console.log(\"Content is cached for offline use.\"),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error(\"Error during service worker registration:\",e)})}s.a.render(c.a.createElement(i.a,null,c.a.createElement(O,null)),document.getElementById(\"root\")),function(e){if(\"serviceWorker\"in navigator){if(new URL(\"\",window.location.href).origin!==window.location.origin)return;window.addEventListener(\"load\",function(){var t=\"\".concat(\"\",\"/service-worker.js\");C?(function(e,t){fetch(e).then(function(n){var a=n.headers.get(\"content-type\");404===n.status||null!=a&&-1===a.indexOf(\"javascript\")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):S(e,t)}).catch(function(){console.log(\"No internet connection found. App is running in offline mode.\")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA\")})):S(t,e)})}}()}},[[17,2,1]]]);","extractedComments":[]}