{"ast":null,"code":"import _classCallCheck from \"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/src/components/SearchField.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport * as FoursquareAPI from '../utils/FoursquareAPI';\n\nvar SearchField =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchField, _Component);\n\n  function SearchField(props) {\n    var _this;\n\n    _classCallCheck(this, SearchField);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchField).call(this, props));\n\n    _this.updateQuery = function (e) {\n      _this.setState({\n        query: e.target.value\n      });\n    };\n\n    _this.onKeyPress = function (e) {\n      if (e.key === 'Enter') {\n        _this.searchApi(); // if (this.state.query){ // not empty\n        //   this.searchApi();\n        // }\n\n      }\n    };\n\n    _this.searchApi = function () {\n      if (_this.state.query) {\n        FoursquareAPI.getQuery(_this.state.query, _this.props.location).then(function (jsonRes) {\n          _this.props.update(jsonRes.response.venues, _this.state.query);\n        });\n      } else {\n        FoursquareAPI.getSearch(_this.props.location).then(function (jsonRes) {\n          _this.props.update(jsonRes.response.venues, _this.state.query);\n        });\n      }\n    };\n\n    _this.state = {\n      query: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(SearchField, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"search-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"search-book-bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-control\",\n        type: \"search\",\n        value: this.state.query,\n        onKeyPress: this.onKeyPress,\n        onChange: function onChange(event) {\n          return _this2.updateQuery(event);\n        },\n        placeholder: \"Search by venue name...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      })), React.createElement(\"img\", {\n        className: \"float-right\",\n        src: require(\"../images/powered-by-foursquare-grey.png\"),\n        height: \"10\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return SearchField;\n}(Component);\n\nSearchField.propTypes = {\n  tapas: PropTypes.array,\n  location: PropTypes.object.isRequired,\n  update: PropTypes.func.isRequired\n};\nexport default SearchField; // Notes:\n// Resources to develop the throttle functionality:\n// https://www.peterbe.com/plog/how-to-throttle-and-debounce-an-autocomplete-input-in-react","map":{"version":3,"sources":["/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/src/components/SearchField.js"],"names":["React","Component","PropTypes","FoursquareAPI","SearchField","props","updateQuery","e","setState","query","target","value","onKeyPress","key","searchApi","state","getQuery","location","then","jsonRes","update","response","venues","getSearch","event","require","propTypes","tapas","array","object","isRequired","func"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,KAAKC,aAAZ,MAA+B,wBAA/B;;IAGMC,W;;;;;AAQJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;;AADiB,UAOnBC,WAPmB,GAOL,UAACC,CAAD,EAAO;AACnB,YAAKC,QAAL,CAAc;AACVC,QAAAA,KAAK,EAAEF,CAAC,CAACG,MAAF,CAASC;AADN,OAAd;AAGD,KAXkB;;AAAA,UAanBC,UAbmB,GAaN,UAACL,CAAD,EAAO;AAClB,UAAIA,CAAC,CAACM,GAAF,KAAU,OAAd,EAAuB;AACrB,cAAKC,SAAL,GADqB,CAErB;AACA;AACA;;AACD;AACF,KApBkB;;AAAA,UAwBnBA,SAxBmB,GAwBP,YAAM;AAChB,UAAI,MAAKC,KAAL,CAAWN,KAAf,EAAqB;AACnBN,QAAAA,aAAa,CAACa,QAAd,CAAuB,MAAKD,KAAL,CAAWN,KAAlC,EAAyC,MAAKJ,KAAL,CAAWY,QAApD,EACGC,IADH,CACQ,UAAAC,OAAO,EAAI;AACf,gBAAKd,KAAL,CAAWe,MAAX,CAAkBD,OAAO,CAACE,QAAR,CAAiBC,MAAnC,EAA2C,MAAKP,KAAL,CAAWN,KAAtD;AACC,SAHL;AAKD,OAND,MAMO;AACLN,QAAAA,aAAa,CAACoB,SAAd,CAAwB,MAAKlB,KAAL,CAAWY,QAAnC,EACGC,IADH,CACQ,UAAAC,OAAO,EAAI;AACf,gBAAKd,KAAL,CAAWe,MAAX,CAAkBD,OAAO,CAACE,QAAR,CAAiBC,MAAnC,EAA2C,MAAKP,KAAL,CAAWN,KAAtD;AACD,SAHH;AAID;AAEF,KAtCkB;;AAEjB,UAAKM,KAAL,GAAa;AACXN,MAAAA,KAAK,EAAE;AADI,KAAb;AAFiB;AAKlB;;;;6BAmCQ;AAAA;;AACP,aAAQ;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACN;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,SAAS,EAAC,cAAjB;AACO,QAAA,IAAI,EAAC,QADZ;AAEO,QAAA,KAAK,EAAE,KAAKM,KAAL,CAAWN,KAFzB;AAGO,QAAA,UAAU,EAAE,KAAKG,UAHxB;AAIO,QAAA,QAAQ,EAAE,kBAACY,KAAD;AAAA,iBAAW,MAAI,CAAClB,WAAL,CAAiBkB,KAAjB,CAAX;AAAA,SAJjB;AAKO,QAAA,WAAW,EAAC,yBALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EASE;AAAK,QAAA,SAAS,EAAC,aAAf;AAA6B,QAAA,GAAG,EAAEC,OAAO,CAAC,0CAAD,CAAzC;AAAuF,QAAA,MAAM,EAAC,IAA9F;AAAmG,QAAA,GAAG,EAAC,EAAvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,CADM,CAAR;AAeD;;;;EAhEuBxB,S;;AAApBG,W,CAEGsB,S,GAAY;AACjBC,EAAAA,KAAK,EAAEzB,SAAS,CAAC0B,KADA;AAEjBX,EAAAA,QAAQ,EAAEf,SAAS,CAAC2B,MAAV,CAAiBC,UAFV;AAGjBV,EAAAA,MAAM,EAAElB,SAAS,CAAC6B,IAAV,CAAeD;AAHN,C;AAiErB,eAAe1B,WAAf,C,CAEA;AACA;AACA","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport * as FoursquareAPI from '../utils/FoursquareAPI'\n\n\nclass SearchField extends Component {\n\n  static propTypes = {\n    tapas: PropTypes.array,\n    location: PropTypes.object.isRequired,\n    update: PropTypes.func.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: \"\"\n    };\n  }\n\n  updateQuery = (e) => {\n    this.setState({\n        query: e.target.value}\n    );\n  };\n\n  onKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.searchApi();\n      // if (this.state.query){ // not empty\n      //   this.searchApi();\n      // }\n    }\n  };\n\n  // Search API with a specific query/filter\n  // update() is called in App.js, to update TapasList component\n  searchApi = () => {\n    if (this.state.query){\n      FoursquareAPI.getQuery(this.state.query, this.props.location)\n        .then(jsonRes => {\n          this.props.update(jsonRes.response.venues, this.state.query);\n          }\n        )\n    } else {\n      FoursquareAPI.getSearch(this.props.location)\n        .then(jsonRes => {\n          this.props.update(jsonRes.response.venues, this.state.query)\n        })\n    }\n\n  };\n\n  render() {\n    return (<div className=\"search-menu\">\n      <div className=\"search-book-bar\">\n        <div className=\"form-group\">\n          <input className=\"form-control\"\n                 type=\"search\"\n                 value={this.state.query}\n                 onKeyPress={this.onKeyPress}\n                 onChange={(event) => this.updateQuery(event)}\n                 placeholder=\"Search by venue name...\"/>\n        </div>\n        <img className=\"float-right\" src={require(\"../images/powered-by-foursquare-grey.png\")} height=\"10\" alt=\"\"/>\n      </div>\n      {/*<FilterChanger/>*/}\n\n    </div> )\n  }\n}\n\nexport default SearchField;\n\n// Notes:\n// Resources to develop the throttle functionality:\n// https://www.peterbe.com/plog/how-to-throttle-and-debounce-an-autocomplete-input-in-react"]},"metadata":{},"sourceType":"module"}