{"ast":null,"code":"import _classCallCheck from \"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/src/SearchField.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { throttle } from \"throttle-debounce\";\nimport FilterChanger from './FilterChanger';\nimport * as FoursquareAPI from './utils/FoursquareAPI';\n\nvar SearchField =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchField, _Component);\n\n  function SearchField(props) {\n    var _this;\n\n    _classCallCheck(this, SearchField);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchField).call(this, props));\n\n    _this.updateQuery = function (e) {\n      if (e.key === 'Enter') {\n        console.log('do validate');\n      }\n\n      _this.setState({\n        query: e.target.value\n      }, function () {\n        _this.autocompleteSearchThrottled(_this.state.query);\n      });\n    };\n\n    _this.autocompleteSearch = function (q) {\n      _this.searchApi();\n    };\n\n    _this.searchApi = function () {\n      FoursquareAPI.getQuery(_this.state.query, _this.props.location).then(function (jsonRes) {\n        console.log(\"getQuery response \", jsonRes.response);\n\n        _this.props.update(jsonRes.response.venues);\n      });\n    };\n\n    _this.state = {\n      query: \"\"\n    };\n    _this.autocompleteSearchThrottled = throttle(500, _this.autocompleteSearch);\n    return _this;\n  }\n\n  _createClass(SearchField, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"search-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"search-book-bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-control\",\n        type: \"text\",\n        value: this.state.query // onKeyPress={this.updateQuery}\n        ,\n        onChange: function onChange(event) {\n          return _this2.updateQuery(event);\n        },\n        placeholder: \"Search by cuisine type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }))), React.createElement(FilterChanger, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return SearchField;\n}(Component);\n\nSearchField.propTypes = {\n  tapas: PropTypes.array,\n  location: PropTypes.object.isRequired,\n  update: PropTypes.func.isRequired\n};\nexport default SearchField; // Notes:\n// Resources to develop the throttle functionality:\n// https://www.peterbe.com/plog/how-to-throttle-and-debounce-an-autocomplete-input-in-react","map":{"version":3,"sources":["/Users/DayTightChunks/Documents/eCourses/WebDev/FE-Nanodegree/React-apps/mytapas-v1/src/SearchField.js"],"names":["React","Component","Link","PropTypes","throttle","FilterChanger","FoursquareAPI","SearchField","props","updateQuery","e","key","console","log","setState","query","target","value","autocompleteSearchThrottled","state","autocompleteSearch","q","searchApi","getQuery","location","then","jsonRes","response","update","venues","event","propTypes","tapas","array","object","isRequired","func"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAO,KAAKC,aAAZ,MAA+B,uBAA/B;;IAGMC,W;;;;;AAQJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;;AADiB,UAQnBC,WARmB,GAQL,UAACC,CAAD,EAAM;AAClB,UAAIA,CAAC,CAACC,GAAF,KAAU,OAAd,EAAuB;AACrBC,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACD;;AACD,YAAKC,QAAL,CAAc;AACVC,QAAAA,KAAK,EAAEL,CAAC,CAACM,MAAF,CAASC;AADN,OAAd,EAEE,YAAM;AAAE,cAAKC,2BAAL,CAAiC,MAAKC,KAAL,CAAWJ,KAA5C;AAAoD,OAF9D;AAID,KAhBkB;;AAAA,UAkBnBK,kBAlBmB,GAkBE,UAAAC,CAAC,EAAI;AACxB,YAAKC,SAAL;AACD,KApBkB;;AAAA,UAwBnBA,SAxBmB,GAwBP,YAAM;AAChBhB,MAAAA,aAAa,CAACiB,QAAd,CAAuB,MAAKJ,KAAL,CAAWJ,KAAlC,EAAyC,MAAKP,KAAL,CAAWgB,QAApD,EACGC,IADH,CACQ,UAAAC,OAAO,EAAI;AACfd,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCa,OAAO,CAACC,QAA1C;;AACA,cAAKnB,KAAL,CAAWoB,MAAX,CAAkBF,OAAO,CAACC,QAAR,CAAiBE,MAAnC;AACC,OAJL;AAMD,KA/BkB;;AAEjB,UAAKV,KAAL,GAAa;AACXJ,MAAAA,KAAK,EAAE;AADI,KAAb;AAGA,UAAKG,2BAAL,GAAmCd,QAAQ,CAAC,GAAD,EAAM,MAAKgB,kBAAX,CAA3C;AALiB;AAMlB;;;;6BA2BQ;AAAA;;AACP,aAAQ;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACN;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,SAAS,EAAC,cAAjB;AACO,QAAA,IAAI,EAAC,MADZ;AAEO,QAAA,KAAK,EAAE,KAAKD,KAAL,CAAWJ,KAFzB,CAGO;AAHP;AAIO,QAAA,QAAQ,EAAE,kBAACe,KAAD;AAAA,iBAAW,MAAI,CAACrB,WAAL,CAAiBqB,KAAjB,CAAX;AAAA,SAJjB;AAKO,QAAA,WAAW,EAAC,wBALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CADM,EAWN,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXM,CAAR;AAeD;;;;EAzDuB7B,S;;AAApBM,W,CAEGwB,S,GAAY;AACjBC,EAAAA,KAAK,EAAE7B,SAAS,CAAC8B,KADA;AAEjBT,EAAAA,QAAQ,EAAErB,SAAS,CAAC+B,MAAV,CAAiBC,UAFV;AAGjBP,EAAAA,MAAM,EAAEzB,SAAS,CAACiC,IAAV,CAAeD;AAHN,C;AA0DrB,eAAe5B,WAAf,C,CAEA;AACA;AACA","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport { throttle } from \"throttle-debounce\";\nimport FilterChanger from './FilterChanger'\nimport * as FoursquareAPI from './utils/FoursquareAPI'\n\n\nclass SearchField extends Component {\n\n  static propTypes = {\n    tapas: PropTypes.array,\n    location: PropTypes.object.isRequired,\n    update: PropTypes.func.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: \"\"\n    };\n    this.autocompleteSearchThrottled = throttle(500, this.autocompleteSearch);\n  }\n\n  updateQuery = (e) =>{\n    if (e.key === 'Enter') {\n      console.log('do validate');\n    }\n    this.setState({\n        query: e.target.value},\n      () => { this.autocompleteSearchThrottled(this.state.query) }\n    );\n  };\n\n  autocompleteSearch = q => {\n    this.searchApi()\n  };\n\n  // Search API with a specific query/filter\n  // update() is called in App.js, to update TapasList component\n  searchApi = () => {\n    FoursquareAPI.getQuery(this.state.query, this.props.location)\n      .then(jsonRes => {\n        console.log(\"getQuery response \", jsonRes.response);\n        this.props.update(jsonRes.response.venues);\n        }\n      )\n  };\n\n  render() {\n    return (<div className=\"search-menu\">\n      <div className=\"search-book-bar\">\n        <div className=\"form-group\">\n          <input className=\"form-control\"\n                 type=\"text\"\n                 value={this.state.query}\n                 // onKeyPress={this.updateQuery}\n                 onChange={(event) => this.updateQuery(event)}\n                 placeholder=\"Search by cuisine type\"/>\n        </div>\n      </div>\n      <FilterChanger/>\n\n\n    </div> )\n  }\n}\n\nexport default SearchField;\n\n// Notes:\n// Resources to develop the throttle functionality:\n// https://www.peterbe.com/plog/how-to-throttle-and-debounce-an-autocomplete-input-in-react"]},"metadata":{},"sourceType":"module"}